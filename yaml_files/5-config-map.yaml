apiVersion: v1
kind: ConfigMap
metadata:
  name: open-webui-config
  namespace: open-webui
  labels:
    app: open-webui
data:
  # Ollama Service Connection
  OLLAMA_BASE_URL: "http://ollama:11434"

  # Public URL (CRITICAL: Must be set before first launch)
  WEBUI_URL: "https://open-webui.qndev.net"

  # Vector Database - Use PostgreSQL with pgvector
  VECTOR_DB: "pgvector"

  # Microsoft OAuth - Public Information
  MICROSOFT_CLIENT_ID: "3781c5fd-8e9c-47e8-8504-4ad346ec74b1"
  MICROSOFT_CLIENT_TENANT_ID: "c8794516-b0d6-41f8-ae73-7fb3bf77642c"
  MICROSOFT_REDIRECT_URI: "https://open-webui.qndev.net/oauth/microsoft/callback"
  OPENID_PROVIDER_URL: "https://login.microsoftonline.com/c8794516-b0d6-41f8-ae73-7fb3bf77642c/v2.0/.well-known/openid-configuration"

  # OAuth Behavior Settings
  ENABLE_OAUTH_SIGNUP: "true"
  OAUTH_MERGE_ACCOUNTS_BY_EMAIL: "false"
  ENABLE_SIGNUP: "false"
  OAUTH_SCOPES: "openid email profile User.Read offline_access"

  # Application Features
  ENABLE_RAG_WEB_SEARCH: "false"
  ENABLE_IMAGE_GENERATION: "false"
  ENABLE_COMMUNITY_SHARING: "false"

  # User Management Settings
  DEFAULT_USER_ROLE: "user"
  ENABLE_ADMIN_EXPORT: "false" # value should be the same as ENABLE_ADMIN_CHAT_ACCESS
  ENABLE_ADMIN_CHAT_ACCESS: "false"

  # Logging
  LOG_LEVEL: "INFO"

  # API Settings
  ENABLE_API_KEY: "false"
